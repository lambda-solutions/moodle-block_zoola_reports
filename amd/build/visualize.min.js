require.config({waitSeconds:0}),define(["core/log","require","core/notification","jquery"],function(a,b,c,d){function e(){}function f(b){c.alert("Error","Failed to initialize Zoola report: "+b.message,"OK"),a.error("block/zoola_reports getVisualize: "+b),g.reject(b)}var g=null;return e.prototype.getVisualize=function(a,c){return null===g&&(g=d.Deferred(),"/"===a.charAt(a.length-1)&&(a=a.substr(0,a.length-1)),b([a+"/client/visualize.js?_opt=true"],function(b){b({server:a,auth:{token:c,preAuth:!0,tokenName:"pp"}},function(a){g.resolve(a)},f)},f)),g.promise()},new e});